"use strict";function FlatpickrInstance(e,t){function n(e){return e.bind(X)}function a(e){X.config.noCalendar&&!X.selectedDates.length&&(X.selectedDates=[X.now]),Q(e),X.selectedDates.length&&(!X.minDateHasTime||"input"!==e.type||e.target.value.length>=2?(i(),V()):setTimeout(function(){i(),V()},1e3))}function i(){if(void 0!==X.hourElement&&void 0!==X.minuteElement){var e=(parseInt(X.hourElement.value,10)||0)%(X.amPM?12:24),t=(parseInt(X.minuteElement.value,10)||0)%60,n=void 0!==X.secondElement?(parseInt(X.secondElement.value,10)||0)%60:0;void 0!==X.amPM&&(e=e%12+12*utils_1.int("PM"===X.amPM.textContent)),X.config.minDate&&X.minDateHasTime&&X.latestSelectedDateObj&&0===dates_1.compareDates(X.latestSelectedDateObj,X.config.minDate)&&(e=Math.max(e,X.config.minDate.getHours()))===X.config.minDate.getHours()&&(t=Math.max(t,X.config.minDate.getMinutes())),X.config.maxDate&&X.maxDateHasTime&&X.latestSelectedDateObj&&0===dates_1.compareDates(X.latestSelectedDateObj,X.config.maxDate)&&(e=Math.min(e,X.config.maxDate.getHours()))===X.config.maxDate.getHours()&&(t=Math.min(t,X.config.maxDate.getMinutes())),o(e,t,n)}}function r(e){var t=e||X.latestSelectedDateObj;t&&o(t.getHours(),t.getMinutes(),t.getSeconds())}function o(e,t,n){void 0!==X.latestSelectedDateObj&&X.latestSelectedDateObj.setHours(e%24,t,n||0,0),X.hourElement&&X.minuteElement&&!X.isMobile&&(X.hourElement.value=X.pad(X.config.time_24hr?e:(12+e)%12+12*utils_1.int(e%12==0)),X.minuteElement.value=X.pad(t),void 0!==X.amPM&&(X.amPM.textContent=e>=12?"PM":"AM"),void 0!==X.secondElement&&(X.secondElement.value=X.pad(n)))}function l(e){var t=parseInt(e.target.value)+e.delta||0;4!==t.toString().length&&"Enter"!==e.key||(X.currentYearElement.blur(),/[^\d]/.test(t.toString())||S(t))}function c(e,t,n){return t instanceof Array?t.forEach(function(t){return c(e,t,n)}):e instanceof Array?e.forEach(function(e){return c(e,t,n)}):(e.addEventListener(t,n),void X._handlers.push({element:e,event:t,handler:n}))}function s(e){return function(t){return 1===t.which&&e(t)}}function d(){B("Change")}function u(){if(X.config.wrap&&["open","close","toggle","clear"].forEach(function(e){Array.prototype.forEach.call(X.element.querySelectorAll("[data-"+e+"]"),function(t){return c(t,"mousedown",s(X[e]))})}),X.isMobile)W();else{var e=utils_1.debounce(A,50),t=utils_1.debounce(d,300);if("range"===X.config.mode&&X.daysContainer&&c(X.daysContainer,"mouseover",function(e){return O(e.target)}),c(window.document.body,"keydown",I),X.config.static||c(X._input,"keydown",I),X.config.inline||X.config.static||c(window.document.body,"resize",e),void 0!==window.ontouchstart&&c(window.document.body,"touchstart",T),c(window.document.body,"mousedown",s(T)),c(X._input,"blur",T),!0===X.config.clickOpens&&(c(X._input,"focus",X.open),c(X._input,"mousedown",s(X.open))),X.config.noCalendar||(X.monthNav.addEventListener("wheel",function(e){return e.preventDefault()}),c(X.monthNav,"wheel",utils_1.debounce(z,10)),c(X.monthNav,"mousedown",s(J)),c(X.monthNav,["keyup","increment"],l),c(X.daysContainer,"mousedown",s(R)),X.config.animate&&(c(X.daysContainer,["webkitAnimationEnd","animationend"],f),c(X.monthNav,["webkitAnimationEnd","animationend"],g))),void 0!==X.timeContainer&&void 0!==X.minuteElement&&void 0!==X.hourElement){c(X.timeContainer,["wheel","input","increment"],a),c(X.timeContainer,"mousedown",s(h)),c(X.timeContainer,["wheel","increment"],t),c(X.timeContainer,"input",d),c([X.hourElement,X.minuteElement],"focus",function(e){return e.target.select()}),void 0!==X.secondElement&&c(X.secondElement,"focus",function(){return X.secondElement&&X.secondElement.select()}),void 0!==X.amPM&&c(X.amPM,"mousedown",s(function(e){a(e),d()}))}}}function m(){X._animationLoop.forEach(function(e){return e()}),X._animationLoop=[]}function f(e){if(X.daysContainer.childNodes.length>1)switch(e.animationName){case"fpSlideLeft":X.daysContainer.lastChild&&X.daysContainer.lastChild.classList.remove("slideLeftNew"),X.daysContainer.removeChild(X.daysContainer.firstChild),X.days=X.daysContainer.firstChild,m();break;case"fpSlideRight":X.daysContainer.firstChild&&X.daysContainer.firstChild.classList.remove("slideRightNew"),X.daysContainer.removeChild(X.daysContainer.lastChild),X.days=X.daysContainer.firstChild,m()}}function g(e){switch(e.animationName){case"fpSlideLeftNew":case"fpSlideRightNew":X.navigationCurrentMonth.classList.remove("slideLeftNew"),X.navigationCurrentMonth.classList.remove("slideRightNew");for(var t=X.navigationCurrentMonth;t.nextSibling&&/curr/.test(t.nextSibling.className);)X.monthNav.removeChild(t.nextSibling);for(;t.previousSibling&&/curr/.test(t.previousSibling.className);)X.monthNav.removeChild(t.previousSibling);X.oldCurMonth=void 0}}function p(e){var t=void 0!==e?e:X.latestSelectedDateObj||X.config.minDate&&X.config.minDate>X.now?X.config.minDate:X.config.maxDate&&X.config.maxDate<X.now?X.config.maxDate:X.now;try{X.currentYear=t.getFullYear(),X.currentMonth=t.getMonth()}catch(e){console.error(e.stack),console.warn("Invalid date supplied: "+t)}X.redraw()}function h(e){~e.target.className.indexOf("arrow")&&v(e,e.target.classList.contains("arrowUp")?1:-1)}function v(e,t,n){var a=e&&e.target,i=n||a&&a.parentNode&&a.parentNode.firstChild,r=q("increment");r.delta=t,i&&i.dispatchEvent(r)}function D(){var e=window.document.createDocumentFragment(),t=dom_1.createElement("div","flatpickr-calendar");t.tabIndex=-1;var n=void 0,a=void 0;if(!X.config.noCalendar){if(e.appendChild(_()),n=dom_1.createElement("div","flatpickr-innerContainer"),X.config.weekNumbers){var i=x(),r=i.weekWrapper,o=i.weekNumbers;n.appendChild(r),X.weekNumbers=o,X.weekWrapper=r}(a=dom_1.createElement("div","flatpickr-rContainer")).appendChild(E()),X.daysContainer||(X.daysContainer=dom_1.createElement("div","flatpickr-days"),X.daysContainer.tabIndex=-1);var l=b().days;X.days=l,a.appendChild(X.daysContainer),n.appendChild(a),e.appendChild(n)}X.config.enableTime&&e.appendChild(y()),dom_1.toggleClass(t,"rangeMode","range"===X.config.mode),dom_1.toggleClass(t,"animate",X.config.animate),t.appendChild(e);var c=void 0!==X.config.appendTo&&X.config.appendTo.nodeType;if((X.config.inline||X.config.static)&&(t.classList.add(X.config.inline?"inline":"static"),X.config.inline&&!c&&X.element.parentNode&&X.element.parentNode.insertBefore(t,X._input.nextSibling),X.config.static)){var s=dom_1.createElement("div","flatpickr-wrapper");X.element.parentNode&&X.element.parentNode.insertBefore(s,X.element),s.appendChild(X.element),X.altInput&&s.appendChild(X.altInput),s.appendChild(t)}return X.config.static||X.config.inline||(void 0!==X.config.appendTo?X.config.appendTo:window.document.body).appendChild(X.calendarContainer),{navigationCurrentMonth:X.navigationCurrentMonth,monthNav:X.monthNav,currentYearElement:X.currentYearElement,currentMonthElement:X.currentMonthElement,_hidePrevMonthArrow:X._hidePrevMonthArrow,_hideNextMonthArrow:X._hideNextMonthArrow,prevMonthNav:X.prevMonthNav,nextMonthNav:X.nextMonthNav,weekdayContainer:X.weekdayContainer,calendarContainer:t,innerContainer:n,rContainer:a,daysContainer:X.daysContainer,days:X.days,weekWrapper:X.weekWrapper,weekNumbers:X.weekNumbers,timeContainer:X.timeContainer,hourElement:X.hourElement,minuteElement:X.minuteElement,secondElement:X.secondElement,amPM:X.amPM}}function C(e,t,n,a){var i=Y(t,!0),r=dom_1.createElement("span","flatpickr-day "+e,t.getDate().toString());return r.dateObj=t,r.$i=a,r.setAttribute("aria-label",X.formatDate(t,X.config.ariaDateFormat)),0===dates_1.compareDates(t,X.now)&&(X.todayDateElem=r,r.classList.add("today")),i?(r.tabIndex=-1,$(t)&&(r.classList.add("selected"),X.selectedDateElem=r,"range"===X.config.mode&&(dom_1.toggleClass(r,"startRange",0===dates_1.compareDates(t,X.selectedDates[0])),dom_1.toggleClass(r,"endRange",0===dates_1.compareDates(t,X.selectedDates[1]))))):(r.classList.add("disabled"),X.selectedDates[0]&&X.minRangeDate&&t>X.minRangeDate&&t<X.selectedDates[0]?X.minRangeDate=t:X.selectedDates[0]&&X.maxRangeDate&&t<X.maxRangeDate&&t>X.selectedDates[0]&&(X.maxRangeDate=t)),"range"===X.config.mode&&(K(t)&&!$(t)&&r.classList.add("inRange"),1===X.selectedDates.length&&X.minRangeDate&&(t<X.minRangeDate||t>X.maxRangeDate)&&r.classList.add("notAllowed")),X.weekNumbers&&"prevMonthDay"!==e&&n%7==1&&X.weekNumbers.insertAdjacentHTML("beforeend","<span class='disabled flatpickr-day'>"+X.config.getWeek(t)+"</span>"),B("DayCreate",r),r}function M(e,t){var n=e+t||0,a=void 0!==e?X.days.childNodes[n]:X.selectedDateElem||X.todayDateElem||X.days.childNodes[0],i=function(){(a=a||X.days.childNodes[n]).focus(),"range"===X.config.mode&&O(a)};if(void 0===a&&0!==t)return t>0?(X.changeMonth(1),n%=42):t<0&&(X.changeMonth(-1),n+=42),w(i);i()}function w(e){!0===X.config.animate?X._animationLoop.push(e):e()}function b(e){var t=(new Date(X.currentYear,X.currentMonth,1).getDay()-X.l10n.firstDayOfWeek+7)%7,n="range"===X.config.mode,a=X.utils.getDaysInMonth((X.currentMonth-1+12)%12),i=X.utils.getDaysInMonth(),r=window.document.createDocumentFragment(),o=a+1-t,l=0;for(X.weekNumbers&&X.weekNumbers.firstChild&&(X.weekNumbers.textContent=""),n&&(X.minRangeDate=new Date(X.currentYear,X.currentMonth-1,o),X.maxRangeDate=new Date(X.currentYear,X.currentMonth+1,(42-t)%i));o<=a;o++,l++)r.appendChild(C("prevMonthDay",new Date(X.currentYear,X.currentMonth-1,o),o,l));for(o=1;o<=i;o++,l++)r.appendChild(C("",new Date(X.currentYear,X.currentMonth,o),o,l));for(var c=i+1;c<=42-t;c++,l++)r.appendChild(C("nextMonthDay",new Date(X.currentYear,X.currentMonth+1,c%i),c,l));if(n&&1===X.selectedDates.length&&r.childNodes[0]?(X._hidePrevMonthArrow=X._hidePrevMonthArrow||!!X.minRangeDate&&X.minRangeDate>r.childNodes[0].dateObj,X._hideNextMonthArrow=X._hideNextMonthArrow||!!X.maxRangeDate&&X.maxRangeDate<new Date(X.currentYear,X.currentMonth+1,1)):U(),void 0===X.daysContainer)return{days:r};var s=dom_1.createElement("div","dayContainer");if(s.appendChild(r),X.config.animate&&void 0!==e)for(;X.daysContainer.childNodes.length>1;)X.daysContainer.removeChild(X.daysContainer.firstChild);else dom_1.clearNode(X.daysContainer);return e&&e>=0?X.daysContainer.appendChild(s):X.daysContainer.insertBefore(s,X.daysContainer.firstChild),{days:X.daysContainer.childNodes[0]}}function _(){var e=window.document.createDocumentFragment();X.monthNav=dom_1.createElement("div","flatpickr-month"),X.prevMonthNav=dom_1.createElement("span","flatpickr-prev-month"),X.prevMonthNav.innerHTML=X.config.prevArrow,X.currentMonthElement=dom_1.createElement("span","cur-month"),X.currentMonthElement.title=X.l10n.scrollTitle;var t=dom_1.createNumberInput("cur-year");return X.currentYearElement=t.childNodes[0],X.currentYearElement.title=X.l10n.scrollTitle,X.config.minDate&&(X.currentYearElement.min=X.config.minDate.getFullYear().toString()),X.config.maxDate&&(X.currentYearElement.max=X.config.maxDate.getFullYear().toString(),X.currentYearElement.disabled=!!X.config.minDate&&X.config.minDate.getFullYear()===X.config.maxDate.getFullYear()),X.nextMonthNav=dom_1.createElement("span","flatpickr-next-month"),X.nextMonthNav.innerHTML=X.config.nextArrow,X.navigationCurrentMonth=dom_1.createElement("span","flatpickr-current-month"),X.navigationCurrentMonth.appendChild(X.currentMonthElement),X.navigationCurrentMonth.appendChild(t),e.appendChild(X.prevMonthNav),e.appendChild(X.navigationCurrentMonth),e.appendChild(X.nextMonthNav),X.monthNav.appendChild(e),Object.defineProperty(X,"_hidePrevMonthArrow",{get:function(){return this.__hidePrevMonthArrow},set:function(e){this.__hidePrevMonthArrow!==e&&(X.prevMonthNav.style.display=e?"none":"block"),this.__hidePrevMonthArrow=e}}),Object.defineProperty(X,"_hideNextMonthArrow",{get:function(){return this.__hideNextMonthArrow},set:function(e){this.__hideNextMonthArrow!==e&&(X.nextMonthNav.style.display=e?"none":"block"),this.__hideNextMonthArrow=e}}),U(),X.monthNav}function y(){X.calendarContainer.classList.add("hasTime"),X.config.noCalendar&&X.calendarContainer.classList.add("noCalendar"),X.timeContainer=dom_1.createElement("div","flatpickr-time"),X.timeContainer.tabIndex=-1;var e=dom_1.createElement("span","flatpickr-time-separator",":"),t=dom_1.createNumberInput("flatpickr-hour");X.hourElement=t.childNodes[0];var n=dom_1.createNumberInput("flatpickr-minute");if(X.minuteElement=n.childNodes[0],X.hourElement.tabIndex=X.minuteElement.tabIndex=-1,X.hourElement.value=X.pad(X.latestSelectedDateObj?X.latestSelectedDateObj.getHours():X.config.defaultHour%(X.config.time_24hr?24:12)),X.minuteElement.value=X.pad(X.latestSelectedDateObj?X.latestSelectedDateObj.getMinutes():X.config.defaultMinute),X.hourElement.step=X.config.hourIncrement.toString(),X.minuteElement.step=X.config.minuteIncrement.toString(),X.hourElement.min=X.config.time_24hr?"0":"1",X.hourElement.max=X.config.time_24hr?"23":"12",X.minuteElement.min="0",X.minuteElement.max="59",X.hourElement.title=X.minuteElement.title=X.l10n.scrollTitle,X.timeContainer.appendChild(t),X.timeContainer.appendChild(e),X.timeContainer.appendChild(n),X.config.time_24hr&&X.timeContainer.classList.add("time24hr"),X.config.enableSeconds){X.timeContainer.classList.add("hasSeconds");var a=dom_1.createNumberInput("flatpickr-second");X.secondElement=a.childNodes[0],X.secondElement.value=X.pad(X.latestSelectedDateObj?X.latestSelectedDateObj.getSeconds():X.config.defaultSeconds),X.secondElement.step=X.minuteElement.step,X.secondElement.min=X.minuteElement.min,X.secondElement.max=X.minuteElement.max,X.timeContainer.appendChild(dom_1.createElement("span","flatpickr-time-separator",":")),X.timeContainer.appendChild(a)}return X.config.time_24hr||(X.amPM=dom_1.createElement("span","flatpickr-am-pm",["AM","PM"][utils_1.int((X.latestSelectedDateObj?X.hourElement.value:X.config.defaultHour)>11)]),X.amPM.title=X.l10n.toggleTitle,X.amPM.tabIndex=-1,X.timeContainer.appendChild(X.amPM)),X.timeContainer}function E(){X.weekdayContainer||(X.weekdayContainer=dom_1.createElement("div","flatpickr-weekdays"));var e=X.l10n.firstDayOfWeek,t=X.l10n.weekdays.shorthand.slice();return e>0&&e<t.length&&(t=t.splice(e,t.length).concat(t.splice(0,e))),X.weekdayContainer.innerHTML="\n    <span class=flatpickr-weekday>\n      "+t.join("</span><span class=flatpickr-weekday>")+"\n    </span>\n    ",X.weekdayContainer}function x(){X.calendarContainer.classList.add("hasWeeks");var e=dom_1.createElement("div","flatpickr-weekwrapper");e.appendChild(dom_1.createElement("span","flatpickr-weekday",X.l10n.weekAbbreviation));var t=dom_1.createElement("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}function k(e,t,n){void 0===t&&(t=!0);var a=t?e:e-X.currentMonth,i=!X.config.animate||!1===n;if(!(a<0&&X._hidePrevMonthArrow||a>0&&X._hideNextMonthArrow)){if(X.currentMonth+=a,(X.currentMonth<0||X.currentMonth>11)&&(X.currentYear+=X.currentMonth>11?1:-1,X.currentMonth=(X.currentMonth+12)%12,B("YearChange")),b(i?void 0:a),i)return B("MonthChange"),U();var r=X.navigationCurrentMonth;if(a<0)for(;r.nextSibling&&/curr/.test(r.nextSibling.className);)X.monthNav.removeChild(r.nextSibling);else if(a>0)for(;r.previousSibling&&/curr/.test(r.previousSibling.className);)X.monthNav.removeChild(r.previousSibling);X.oldCurMonth=X.navigationCurrentMonth,X.navigationCurrentMonth=X.monthNav.insertBefore(X.oldCurMonth.cloneNode(!0),a>0?X.oldCurMonth.nextSibling:X.oldCurMonth);var o=X.daysContainer;if(o.firstChild&&o.lastChild&&(a>0?(o.firstChild.classList.add("slideLeft"),o.lastChild.classList.add("slideLeftNew"),X.oldCurMonth.classList.add("slideLeft"),X.navigationCurrentMonth.classList.add("slideLeftNew")):a<0&&(o.firstChild.classList.add("slideRightNew"),o.lastChild.classList.add("slideRight"),X.oldCurMonth.classList.add("slideRight"),X.navigationCurrentMonth.classList.add("slideRightNew"))),X.currentMonthElement=X.navigationCurrentMonth.firstChild,X.currentYearElement=X.navigationCurrentMonth.lastChild.childNodes[0],U(),X.oldCurMonth.firstChild&&(X.oldCurMonth.firstChild.textContent=dates_1.monthToStr(X.currentMonth-a,G.shorthandCurrentMonth,X.l10n)),B("MonthChange"),document.activeElement&&document.activeElement.$i){var l=document.activeElement.$i;w(function(){M(l,0)})}}}function N(e){return!(!X.config.appendTo||!X.config.appendTo.contains(e))||X.calendarContainer.contains(e)}function T(e){if(X.isOpen&&!X.config.inline){var t=N(e.target),n=e.target===X.input||e.target===X.altInput||X.element.contains(e.target)||e.path&&e.path.indexOf&&(~e.path.indexOf(X.input)||~e.path.indexOf(X.altInput));("blur"===e.type?n&&e.relatedTarget&&!N(e.relatedTarget):!n&&!t)&&-1===X.config.ignoredFocusElements.indexOf(e.target)&&(X.close(),"range"===X.config.mode&&1===X.selectedDates.length&&(X.clear(!1),X.redraw()))}}function S(e){if(!(!e||X.currentYearElement.min&&e<parseInt(X.currentYearElement.min)||X.currentYearElement.max&&e>parseInt(X.currentYearElement.max))){var t=e,n=X.currentYear!==t;X.currentYear=t||X.currentYear,X.config.maxDate&&X.currentYear===X.config.maxDate.getFullYear()?X.currentMonth=Math.min(X.config.maxDate.getMonth(),X.currentMonth):X.config.minDate&&X.currentYear===X.config.minDate.getFullYear()&&(X.currentMonth=Math.max(X.config.minDate.getMonth(),X.currentMonth)),n&&(X.redraw(),B("YearChange"))}}function Y(e,t){if(X.config.minDate&&dates_1.compareDates(e,X.config.minDate,void 0!==t?t:!X.minDateHasTime)<0||X.config.maxDate&&dates_1.compareDates(e,X.config.maxDate,void 0!==t?t:!X.maxDateHasTime)>0)return!1;if(!X.config.enable.length&&!X.config.disable.length)return!0;for(var n=X.parseDate(e,void 0,!0),a=X.config.enable.length>0,i=a?X.config.enable:X.config.disable,r=0,o=void 0;r<i.length;r++){if("function"==typeof(o=i[r])&&o(n))return a;if(o instanceof Date&&void 0!==n&&o.getTime()===n.getTime())return a;if("string"==typeof o&&void 0!==n){var l=X.parseDate(o,void 0,!0);return l&&l.getTime()===n.getTime()?a:!a}if("object"==typeof o&&void 0!==n&&o.from&&o.to&&n>=o.from&&n<=o.to)return a}return!a}function I(e){var t=e.target===X._input,n=N(e.target),r=X.config.allowInput,o=X.isOpen&&(!r||!t),l=X.config.inline&&t&&!r;if("Enter"===e.key&&r&&t)return X.setDate(X._input.value,!0,e.target===X.altInput?X.config.altFormat:X.config.dateFormat),e.target.blur();if(n||o||l){var c=X.timeContainer&&X.timeContainer.contains(e.target);switch(e.key){case"Enter":c?V():R(e);break;case"Escape":e.preventDefault(),X.close();break;case"Backspace":case"Delete":X.config.allowInput||X.clear();break;case"ArrowLeft":case"ArrowRight":if(!c)if(e.preventDefault(),X.daysContainer){var s="ArrowRight"===e.key?1:-1;e.ctrlKey?k(s,!0):M(e.target.$i,s)}else X.hourElement&&!c&&X.hourElement.focus();break;case"ArrowUp":case"ArrowDown":e.preventDefault();var d="ArrowDown"===e.key?1:-1;X.daysContainer?e.ctrlKey?(S(X.currentYear-d),M(e.target.$i,0)):c||M(e.target.$i,7*d):X.config.enableTime&&(!c&&X.hourElement&&X.hourElement.focus(),a(e),X.debouncedChange());break;case"Tab":e.target===X.hourElement?(e.preventDefault(),X.minuteElement.select()):e.target===X.minuteElement&&(X.secondElement||X.amPM)?(e.preventDefault(),(X.secondElement||X.amPM).focus()):e.target===X.secondElement&&(e.preventDefault(),X.amPM.focus());break;case"a":void 0!==X.amPM&&e.target===X.amPM&&(X.amPM.textContent="AM",i(),V());break;case"p":void 0!==X.amPM&&e.target===X.amPM&&(X.amPM.textContent="PM",i(),V())}B("KeyDown",e)}}function O(e){if(1===X.selectedDates.length&&e.classList.contains("flatpickr-day")&&void 0!==X.minRangeDate&&void 0!==X.maxRangeDate){for(var t=e.dateObj,n=X.parseDate(X.selectedDates[0],void 0,!0),a=Math.min(t.getTime(),X.selectedDates[0].getTime()),i=Math.max(t.getTime(),X.selectedDates[0].getTime()),r=!1,o=a;o<i;o+=dates_1.duration.DAY)if(!Y(new Date(o))){r=!0;break}for(var l=X.days.childNodes[0].dateObj.getTime(),c=0;c<42;c++,l+=dates_1.duration.DAY)!function(o,l){var c=o<X.minRangeDate.getTime()||o>X.maxRangeDate.getTime(),s=X.days.childNodes[l];if(c)return s.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(e){s.classList.remove(e)}),"continue";if(r&&!c)return"continue";["startRange","inRange","endRange","notAllowed"].forEach(function(e){s.classList.remove(e)});var d=Math.max(X.minRangeDate.getTime(),a),u=Math.min(X.maxRangeDate.getTime(),i);e.classList.add(t<X.selectedDates[0]?"startRange":"endRange"),n<t&&o===n.getTime()?s.classList.add("startRange"):n>t&&o===n.getTime()&&s.classList.add("endRange"),o>=d&&o<=u&&s.classList.add("inRange")}(l,c)}}function A(){!X.isOpen||X.config.static||X.config.inline||P()}function L(e){return function(t){var n=X.config["_"+e+"Date"]=X.parseDate(t),a=X.config["_"+("min"===e?"max":"min")+"Date"];if(void 0!==n){"min"===e?X.minDateHasTime:X.maxDateHasTime;n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0}X.selectedDates&&(X.selectedDates=X.selectedDates.filter(function(e){return Y(e)}),X.selectedDates.length||"min"!==e||r(n),V()),X.daysContainer&&(j(),void 0!==n?X.currentYearElement[e]=n.getFullYear().toString():X.currentYearElement.removeAttribute(e),X.currentYearElement.disabled=!!a&&void 0!==n&&a.getFullYear()===n.getFullYear())}}function P(e){if(void 0===e&&(e=X._positionElement),void 0!==X.calendarContainer){var t=X.calendarContainer.offsetHeight,n=X.calendarContainer.offsetWidth,a=X.config.position,i=e.getBoundingClientRect(),r=window.innerHeight-i.bottom,o="above"===a||"below"!==a&&r<t&&i.top>t,l=window.pageYOffset+i.top+(o?-t-2:e.offsetHeight+2);if(dom_1.toggleClass(X.calendarContainer,"arrowTop",!o),dom_1.toggleClass(X.calendarContainer,"arrowBottom",o),!X.config.inline){var c=window.pageXOffset+i.left,s=window.document.body.offsetWidth-i.right,d=c+n>window.document.body.offsetWidth;dom_1.toggleClass(X.calendarContainer,"rightMost",d),X.config.static||(X.calendarContainer.style.top=l+"px",d?(X.calendarContainer.style.left="auto",X.calendarContainer.style.right=s+"px"):(X.calendarContainer.style.left=c+"px",X.calendarContainer.style.right="auto"))}}}function j(){X.config.noCalendar||X.isMobile||(E(),U(),b())}function R(e){e.preventDefault(),e.stopPropagation();var t=e.target;if(t.classList.contains("flatpickr-day")&&!t.classList.contains("disabled")&&!t.classList.contains("notAllowed")){var n=X.latestSelectedDateObj=new Date(t.dateObj.getTime()),a=n.getMonth()!==X.currentMonth&&"range"!==X.config.mode;if(X.selectedDateElem=t,"single"===X.config.mode)X.selectedDates=[n];else if("multiple"===X.config.mode){var o=$(n);o?X.selectedDates.splice(o,1):X.selectedDates.push(n)}else"range"===X.config.mode&&(2===X.selectedDates.length&&X.clear(),X.selectedDates.push(n),0!==dates_1.compareDates(n,X.selectedDates[0],!0)&&X.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()}));if(i(),a){var l=X.currentYear!==n.getFullYear();X.currentYear=n.getFullYear(),X.currentMonth=n.getMonth(),l&&B("YearChange"),B("MonthChange")}if(b(),X.minDateHasTime&&X.config.enableTime&&0===dates_1.compareDates(n,X.config.minDate)&&r(X.config.minDate),V(),X.config.enableTime&&setTimeout(function(){return X.showTimeInput=!0},50),"range"===X.config.mode&&(1===X.selectedDates.length?(O(t),X._hidePrevMonthArrow=X._hidePrevMonthArrow||void 0!==X.minRangeDate&&X.minRangeDate>X.days.childNodes[0].dateObj,X._hideNextMonthArrow=X._hideNextMonthArrow||void 0!==X.maxRangeDate&&X.maxRangeDate<new Date(X.currentYear,X.currentMonth+1,1)):U()),B("Change"),a?w(function(){return X.selectedDateElem&&X.selectedDateElem.focus()}):M(t.$i,0),void 0!==X.hourElement&&setTimeout(function(){return void 0!==X.hourElement&&X.hourElement.select()},451),X.config.closeOnSelect){var c="single"===X.config.mode&&!X.config.enableTime,s="range"===X.config.mode&&2===X.selectedDates.length&&!X.config.enableTime;(c||s)&&X.close()}}}function H(e,t){var n=[];if(e instanceof Array)n=e.map(function(e){return X.parseDate(e,t)});else if(e instanceof Date||!isNaN(e))n=[X.parseDate(e,t)];else if("string"==typeof e)switch(X.config.mode){case"single":n=[X.parseDate(e,t)];break;case"multiple":n=e.split("; ").map(function(e){return X.parseDate(e,t)});break;case"range":n=e.split(X.l10n.rangeSeparator).map(function(e){return X.parseDate(e,t)})}X.selectedDates=n.filter(function(e){return e instanceof Date&&Y(e,!1)}),X.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})}function F(e){for(var t=e,n=t.length;n--;){var a=t[n];if("string"==typeof a||"number"==typeof a||e instanceof Date){var i=X.parseDate(a,void 0,!0);t[n]=i}else"object"==typeof a&&a.from&&a.to&&(a.from=X.parseDate(a.from),a.to=X.parseDate(a.to))}return e.filter(function(e){return e})}function W(){var e=X.config.enableTime?X.config.noCalendar?"time":"datetime-local":"date",t=dom_1.createElement("input",X.input.className+" flatpickr-mobile");t.step=X.input.getAttribute("step")||"any",t.tabIndex=1,t.type=e,t.disabled=X.input.disabled,t.placeholder=X.input.placeholder;var n="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S";X.selectedDates.length&&(t.defaultValue=t.value=X.formatDate(X.selectedDates[0],n)),X.config.minDate&&(t.min=X.formatDate(X.config.minDate,"Y-m-d")),X.config.maxDate&&(t.max=X.formatDate(X.config.maxDate,"Y-m-d")),X.input.type="hidden",void 0!==X.altInput&&(X.altInput.type="hidden");try{X.input.parentNode&&X.input.parentNode.insertBefore(t,X.input.nextSibling)}catch(e){}return t.addEventListener("change",function(e){X.setDate(e.target.value,!1,n),B("Change"),B("Close")}),{mobileInput:t,mobileFormatStr:n}}function B(e,t){var n=X.config["on"+e];if(void 0!==n&&n.length>0)for(var a=0;n[a]&&a<n.length;a++)n[a](X.selectedDates,X.input.value,X,t);"Change"===e&&(X.input.dispatchEvent(q("change")),X.input.dispatchEvent(q("input")))}function q(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function $(e){for(var t=0;t<X.selectedDates.length;t++)if(0===dates_1.compareDates(X.selectedDates[t],e))return""+t;return!1}function K(e){return!("range"!==X.config.mode||X.selectedDates.length<2)&&(dates_1.compareDates(e,X.selectedDates[0])>=0&&dates_1.compareDates(e,X.selectedDates[1])<=0)}function U(){X.config.noCalendar||X.isMobile||!X.monthNav||(X.currentMonthElement.textContent=dates_1.monthToStr(X.currentMonth,G.shorthandCurrentMonth,X.l10n)+" ",X.currentYearElement.value=X.currentYear.toString(),X._hidePrevMonthArrow=void 0!==X.config.minDate&&(X.currentYear===X.config.minDate.getFullYear()?X.currentMonth<=X.config.minDate.getMonth():X.currentYear<X.config.minDate.getFullYear()),X._hideNextMonthArrow=void 0!==X.config.maxDate&&(X.currentYear===X.config.maxDate.getFullYear()?X.currentMonth+1>X.config.maxDate.getMonth():X.currentYear>X.config.maxDate.getFullYear()))}function V(e){if(void 0===e&&(e=!0),!X.selectedDates.length)return X.clear(e);void 0!==X.mobileInput&&X.mobileFormatStr&&(X.mobileInput.value=void 0!==X.latestSelectedDateObj?X.formatDate(X.latestSelectedDateObj,X.mobileFormatStr):"");var t="range"!==X.config.mode?"; ":X.l10n.rangeSeparator;X.input.value=X.selectedDates.map(function(e){return X.formatDate(e,X.config.dateFormat)}).join(t),void 0!==X.altInput&&(X.altInput.value=X.selectedDates.map(function(e){return X.formatDate(e,X.config.altFormat)}).join(t)),!1!==e&&B("ValueUpdate")}function z(e){e.preventDefault();var t=X.currentYearElement.parentNode&&X.currentYearElement.parentNode.contains(e.target);if(e.target===X.currentMonthElement||t){var n=utils_1.mouseDelta(e);t?(S(X.currentYear+n),e.target.value=X.currentYear.toString()):X.changeMonth(n,!0,!1)}}function J(e){var t=X.prevMonthNav.contains(e.target),n=X.nextMonthNav.contains(e.target);t||n?k(t?-1:1):e.target===X.currentYearElement?(e.preventDefault(),X.currentYearElement.select()):"arrowUp"===e.target.className?X.changeYear(X.currentYear+1):"arrowDown"===e.target.className&&X.changeYear(X.currentYear-1)}function Q(e){e.preventDefault();var t="keydown"===e.type,n=e.target;void 0!==X.amPM&&e.target===X.amPM&&(X.amPM.textContent=["AM","PM"]["AM"===X.amPM.textContent?1:0]);var a=Number(n.min),i=Number(n.max),r=Number(n.step),o=parseInt(n.value,10),l=o+r*(e.delta||(t?38===e.which?1:-1:Math.max(-1,Math.min(1,e.wheelDelta||-e.deltaY))||0));if(void 0!==n.value&&2===n.value.length){var c=n===X.hourElement,s=n===X.minuteElement;l<a?(l=i+l+utils_1.int(!c)+(utils_1.int(c)&&utils_1.int(!X.amPM)),s&&v(void 0,-1,X.hourElement)):l>i&&(l=n===X.hourElement?l-i-utils_1.int(!X.amPM):a,s&&v(void 0,1,X.hourElement)),X.amPM&&c&&(1===r?l+o===23:Math.abs(l-o)>r)&&(X.amPM.textContent="PM"===X.amPM.textContent?"AM":"PM"),n.value=X.pad(l)}}var G=function(){var e=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],a=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange"],i=__assign({},flatpickr.defaultConfig),r=__assign({},t,JSON.parse(JSON.stringify(X.element.dataset||{})));i.parseDate=r.parseDate,i.formatDate=r.formatDate,Object.defineProperty(i,"enable",{get:function(){return i._enable||[]},set:function(e){return i._enable=F(e)}}),Object.defineProperty(i,"disable",{get:function(){return i._disable||[]},set:function(e){return i._disable=F(e)}}),Object.assign(i,r),!r.dateFormat&&r.enableTime&&(X.config.dateFormat=i.noCalendar?"H:i"+(i.enableSeconds?":S":""):flatpickr.defaultConfig.dateFormat+" H:i"+(i.enableSeconds?":S":"")),r.altInput&&r.enableTime&&!r.altFormat&&(i.altFormat=i.noCalendar?"h:i"+(i.enableSeconds?":S K":" K"):flatpickr.defaultConfig.altFormat+" h:i"+(i.enableSeconds?":S":"")+" K"),Object.defineProperty(i,"minDate",{get:function(){return this._minDate},set:L("min")}),Object.defineProperty(i,"maxDate",{get:function(){return this._maxDate},set:L("max")}),i.minDate=r.minDate,i.maxDate=r.maxDate;for(o=0;o<e.length;o++)i[e[o]]=!0===i[e[o]]||"true"===i[e[o]];for(o=a.length;o--;)void 0!==i[a[o]]&&(i[a[o]]=utils_1.arrayify(i[a[o]]||[]).map(n));for(var o=0;o<i.plugins.length;o++){var l=i.plugins[o](X)||{};for(var c in l)i[c]instanceof Array||~a.indexOf(c)?i[c]=utils_1.arrayify(l[c]).map(n).concat(i[c]):void 0===r[c]&&(i[c]=l[c])}return B("ParseConfig"),i}(),X=__assign({utils:{getDaysInMonth:function(e,t){return void 0===e&&(e=X.currentMonth),void 0===t&&(t=X.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:X.l10n.daysInMonth[e]}},element:e},function(){var t=X.config.wrap?e.querySelector("[data-input]"):e;if(!t){console.warn("Error: invalid input element specified",X.input);var n=document.createElement("input");return{input:n,_input:n,_positionElement:n}}t._type=t.type,t.type="text",t.classList.add("flatpickr-input");var a=t,i=void 0;return X.config.altInput&&(a=i=dom_1.createElement(t.nodeName,t.className+" "+X.config.altInputClass),i.placeholder=t.placeholder,i.disabled=t.disabled,i.required=t.required,i.type="text",t.type="hidden",!X.config.static&&t.parentNode&&t.parentNode.insertBefore(i,t.nextSibling)),X.config.allowInput||a.setAttribute("readonly","readonly"),{_positionElement:X.config.positionElement||a,_input:a,input:t,altInput:i}}(),D(),{config:G,isOpen:!1,isMobile:!G.disableMobile&&!G.inline&&"single"===G.mode&&!G.disable.length&&!G.enable.length&&!G.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),minDateHasTime:!1,selectedDates:[],showTimeInput:!1,parseDate:function(e,t,n){if(0===e||e){var a,i=e;if(e instanceof Date)a=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)a=new Date(e);else{var r=t||(X.config||flatpickr.defaultConfig).dateFormat,o=String(e).trim();if("today"===o)a=new Date,n=!0;else if(/Z$/.test(o)||/GMT$/.test(o))a=new Date(e);else if(X.config&&X.config.parseDate)a=X.config.parseDate(e,r);else{a=X.config&&X.config.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var l=void 0,c=[],s=0,d=0,u="";s<r.length;s++){var m=r[s],f="\\"===m,g="\\"===r[s-1]||f;if(X.tokenRegex[m]&&!g){u+=X.tokenRegex[m];var p=new RegExp(u).exec(e);p&&(l=!0)&&c["Y"!==m?"push":"unshift"]({fn:X.revFormat[m],val:p[++d]})}else f||(u+=".");c.forEach(function(e){var t=e.fn,n=e.val;return a=t(a,n)||a})}a=l?a:void 0}}return a instanceof Date?(!0===n&&a.setHours(0,0,0,0),a):(console.warn("flatpickr: invalid date "+i),void console.info(X.element))}},formatDate:function(e,t){return void 0!==X.config&&void 0!==X.config.formatDate?X.config.formatDate(e,t):t.split("").map(function(t,n,a){return X.formats[t]&&"\\"!==a[n-1]?X.formats[t](e):"\\"!==t?t:""}).join("")},now:new Date,_bind:c,_setHoursFromDate:r,changeMonth:k,changeYear:S,clear:function(e){void 0===e&&(e=!0),X.input.value="",X.altInput&&(X.altInput.value=""),X.mobileInput&&(X.mobileInput.value=""),X.selectedDates=[],X.latestSelectedDateObj=void 0,X.showTimeInput=!1,X.redraw(),!0===e&&B("Change")},close:function(){X.isOpen=!1,X.isMobile||(X.calendarContainer.classList.remove("open"),X._input.classList.remove("active")),B("Close")},_createElement:dom_1.createElement,destroy:function(){void 0!==X.config&&B("Destroy");for(var e=X._handlers.length;e--;){var t=X._handlers[e];t.element.removeEventListener(t.event,t.handler)}X._handlers=[],X.mobileInput?(X.mobileInput.parentNode&&X.mobileInput.parentNode.removeChild(X.mobileInput),X.mobileInput=void 0):X.calendarContainer&&X.calendarContainer.parentNode&&X.calendarContainer.parentNode.removeChild(X.calendarContainer),X.altInput&&(X.input.type="text",X.altInput.parentNode&&X.altInput.parentNode.removeChild(X.altInput),delete X.altInput),X.input&&(X.input.type=X.input._type,X.input.classList.remove("flatpickr-input"),X.input.removeAttribute("readonly"),X.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(e){try{delete X[e]}catch(e){}})},isEnabled:Y,jumpToDate:p,open:function(e,t){if(X.isMobile)return e&&(e.preventDefault(),e.target&&e.target.blur()),setTimeout(function(){void 0!==X.mobileInput&&X.mobileInput.click()},0),void B("Open");X.isOpen||X._input.disabled||X.config.inline||(X.isOpen=!0,X.calendarContainer.classList.add("open"),P(t),X._input.classList.add("active"),B("Open"))},pad:utils_1.pad,redraw:j,set:function(e,t){null!==e&&"object"==typeof e?Object.assign(X.config,e):X.config[e]=t,X.redraw(),p()},setDate:function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=void 0),0!==e&&!e)return X.clear(t);H(e,n),X.showTimeInput=X.selectedDates.length>0,X.latestSelectedDateObj=X.selectedDates[0],X.redraw(),p(),r(),V(t),t&&B("Change")},toggle:function(){if(X.isOpen)return X.close();X.open()}},("object"!=typeof X.config.locale&&void 0===flatpickr.l10ns[X.config.locale]&&console.warn("flatpickr: invalid locale "+X.config.locale),{l10n:__assign({},flatpickr.l10ns.default,"object"==typeof X.config.locale?X.config.locale:"default"!==X.config.locale?flatpickr.l10ns[X.config.locale]||{}:{})}),W(),function(){X.selectedDates=[];var e=new Date,t=X.config.defaultDate||X.input.value;t&&H(t,X.config.dateFormat);var n=X.selectedDates.length?X.selectedDates[0]:X.config.minDate&&X.config.minDate.getTime()>X.now.getTime()?X.config.minDate:X.config.maxDate&&X.config.maxDate.getTime()<X.now.getTime()?X.config.maxDate:e;return X.currentYear=n.getFullYear(),X.currentMonth=n.getMonth(),X.selectedDates.length&&(X.latestSelectedDateObj=X.selectedDates[0]),X.minDateHasTime=!!X.config.minDate&&(X.config.minDate.getHours()>0||X.config.minDate.getMinutes()>0||X.config.minDate.getSeconds()>0),X.maxDateHasTime=!!X.config.maxDate&&(X.config.maxDate.getHours()>0||X.config.maxDate.getMinutes()>0||X.config.maxDate.getSeconds()>0),{currentYear:X.currentYear,currentMonth:X.currentMonth,now:e,selectedDates:X.selectedDates,latestSelectedDateObj:X.latestSelectedDateObj,minDateHasTime:X.minDateHasTime,maxDateHasTime:X.maxDateHasTime,_showTimeInput:X._showTimeInput,showTimeInput:{get:function(){return X._showTimeInput},set:function(e){X._showTimeInput=e,X.calendarContainer&&dom_1.toggleClass(X.calendarContainer,"showTimeInput",e),P()}}}}(),{_:{},_animationLoop:[],_handlers:[]});return X.isMobile||D(),u(),(X.selectedDates.length||X.config.noCalendar)&&(X.config.enableTime&&r(X.config.noCalendar?X.latestSelectedDateObj||X.config.minDate:void 0),V(!1)),X.showTimeInput=X.selectedDates.length>0||X.config.noCalendar,void 0!==X.weekWrapper&&void 0!==X.daysContainer&&(X.calendarContainer.style.width=X.daysContainer.offsetWidth+X.weekWrapper.offsetWidth+"px"),X.isMobile||P(),B("Ready"),X}function _flatpickr(e,t){for(var n=Array.prototype.slice.call(e),a=[],i=0;i<n.length;i++)try{if(null!==n[i].getAttribute("data-fp-omit"))continue;n[i]._flatpickr&&(n[i]._flatpickr.destroy(),n[i]._flatpickr=null),n[i]._flatpickr=new FlatpickrInstance(n[i],t||{}),a.push(n[i]._flatpickr)}catch(e){console.warn(e,e.stack)}return 1===a.length?a[0]:a}var __assign=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(exports,"__esModule",{value:!0});var options_1=require("types/options"),en_1=require("l10n/en"),utils_1=require("utils"),dom_1=require("utils/dom"),dates_1=require("utils/dates");"undefined"!=typeof HTMLElement&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return _flatpickr(this,e)},HTMLElement.prototype.flatpickr=function(e){return _flatpickr([this],e)});var flatpickr;(flatpickr=function(e,t){return e instanceof NodeList?_flatpickr(e,t):"string"==typeof e?_flatpickr(window.document.querySelectorAll(e),t):_flatpickr([e],t)}).defaultConfig=options_1.defaults,flatpickr.l10ns={en:en_1.default,default:__assign({},en_1.default)},flatpickr.localize=function(e){flatpickr.l10ns.default=__assign({},flatpickr.l10ns.default,e)},flatpickr.setDefaults=function(e){flatpickr.defaultConfig=__assign({},flatpickr.defaultConfig,e)},"undefined"!=typeof jQuery&&(jQuery.fn.flatpickr=function(e){return _flatpickr(this,e)}),exports.default=flatpickr;